(()=>{var oi=(Re,p)=>()=>(p||Re((p={exports:{}}).exports,p),p.exports);var ri=oi((Kt,On)=>{(function(Re,p){typeof define=="function"&&define.amd?define(p):typeof Kt=="object"?On.exports=p():Re.PhotoSwipe=p()})(Kt,function(){"use strict";var Re=function(p,qt,kn,Rn){var a={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var l=0;l<t.length;l++)t[l]&&e[o](t[l],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return e!==void 0?e:document.documentElement.scrollTop},unbind:function(e,t,n){a.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){a.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(a.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(a.features)return a.features;var e=a.createEl(),t=e.style,n="",i={};if(i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!i.pointerEvent){var o=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var l=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);l&&l.length>0&&(l=parseInt(l[1],10),l>=1&&l<8&&(i.isOldIOSPhone=!0))}var d=o.match(/Android\s([0-9\.]*)/),c=d?d[1]:0;c=parseFloat(c),c>=1&&(c<4.4&&(i.isOldAndroid=!0),i.androidVersion=c),i.isMobileOpera=/opera mini|opera mobi/i.test(o)}for(var m,x,b=["transform","perspective","animationName"],ae=["","webkit","Moz","ms","O"],q=0;q<4;q++){n=ae[q];for(var ke=0;ke<3;ke++)m=b[ke],x=n+(n?m.charAt(0).toUpperCase()+m.slice(1):m),!i[m]&&x in t&&(i[m]=x);n&&!i.raf&&(n=n.toLowerCase(),i.raf=window[n+"RequestAnimationFrame"],i.raf&&(i.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!i.raf){var qe=0;i.raf=function(Y){var Xt=new Date().getTime(),Vt=Math.max(0,16-(Xt-qe)),ii=window.setTimeout(function(){Y(Xt+Vt)},Vt);return qe=Xt+Vt,ii},i.caf=function(Y){clearTimeout(Y)}}return i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,a.features=i,i}};a.detectFeatures(),a.features.oldIE&&(a.bind=function(e,t,n,i){t=t.split(" ");for(var o,l=(i?"detach":"attach")+"Event",d=function(){n.handleEvent.call(n)},c=0;c<t.length;c++)if(o=t[c])if(typeof n=="object"&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=d;e[l]("on"+o,n["oldIE"+o])}else e[l]("on"+o,n)});var r=this,$t=25,$=3,s={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return e.tagName==="A"},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};a.extend(s,Rn);var ge,Jt,ht,h,Qt,B,Pe,$e,T,v,se,yt,vt,xt,Je,I,jt,Qe,je,Ze,et,we,J,W,tt,gt,en,tn,wt,ue,g,bt,nn,nt,Fe,It,Le,ze,N,Ct,ce,be,it,de,L,G,on,rn,f,X,S,Q,Dt,ot,rt,lt,at,j=function(){return{x:0,y:0}},ee=j(),Ie=j(),u=j(),M={},te=0,Ce={},R=j(),_=0,st=!0,Tt=[],_e={},me=!1,Ne=function(e,t){a.extend(r,t.publicMethods),Tt.push(e)},ut=function(e){var t=Z();return e>t-1?e-t:e<0?t+e:e},Ue={},w=function(e,t){return Ue[e]||(Ue[e]=[]),Ue[e].push(t)},y=function(e){var t=Ue[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(r,n)}},U=function(){return new Date().getTime()},V=function(e){rt=e,r.bg.style.opacity=e*s.bgOpacity},ln=function(e,t,n,i,o){(!me||o&&o!==r.currItem)&&(i/=o?o.fitRatio:r.currItem.fitRatio),e[we]=yt+t+"px, "+n+"px"+vt+" scale("+i+")"},C=function(e){X&&(e&&(v>r.currItem.fitRatio?me||(xe(r.currItem,!1,!0),me=!0):me&&(xe(r.currItem),me=!1)),ln(X,u.x,u.y,v))},He=function(e){e.container&&ln(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},De=function(e,t){t[we]=yt+e+"px, 0px"+vt},ct=function(e,t){if(!s.loop&&t){var n=h+(R.x*te-e)/R.x,i=Math.round(e-K.x);(n<0&&i>0||n>=Z()-1&&i<0)&&(e=K.x+i*s.mainScrollEndFriction)}K.x=e,De(e,Qt)},Mt=function(e,t){var n=Ge[e]-Ce[e];return Ie[e]+ee[e]+n-n*(t/se)},A=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},an=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},St=null,At=function(){St&&(a.unbind(document,"mousemove",At),a.addClass(p,"pswp--has_mouse"),s.mouseUsed=!0,y("mouseUsed")),St=setTimeout(function(){St=null},100)},Pn=function(){a.bind(document,"keydown",r),g.transform&&a.bind(r.scrollWrap,"click",r),s.mouseUsed||a.bind(document,"mousemove",At),a.bind(window,"resize scroll orientationchange",r),y("bindEvents")},Zn=function(){a.unbind(window,"resize scroll orientationchange",r),a.unbind(window,"scroll",T.scroll),a.unbind(document,"keydown",r),a.unbind(document,"mousemove",At),g.transform&&a.unbind(r.scrollWrap,"click",r),N&&a.unbind(window,Pe,r),clearTimeout(bt),y("unbindEvents")},Et=function(e,t){var n=Ve(r.currItem,M,e);return t&&(f=n),n},sn=function(e){return e||(e=r.currItem),e.initialZoomLevel},un=function(e){return e||(e=r.currItem),e.w>0?s.maxSpreadZoom:1},cn=function(e,t,n,i){return i===r.currItem.initialZoomLevel?(n[e]=r.currItem.initialPosition[e],!0):(n[e]=Mt(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Fn=function(){if(we){var e=g.perspective&&!W;return yt="translate"+(e?"3d(":"("),void(vt=g.perspective?", 0px)":")")}we="left",a.addClass(p,"pswp--ie"),De=function(t,n){n.left=t+"px"},He=function(t){var n=t.fitRatio>1?1:t.fitRatio,i=t.container.style,o=n*t.w,l=n*t.h;i.width=o+"px",i.height=l+"px",i.left=t.initialPosition.x+"px",i.top=t.initialPosition.y+"px"},C=function(){if(X){var t=X,n=r.currItem,i=n.fitRatio>1?1:n.fitRatio,o=i*n.w,l=i*n.h;t.width=o+"px",t.height=l+"px",t.left=u.x+"px",t.top=u.y+"px"}}},Ln=function(e){var t="";s.escKey&&e.keyCode===27?t="close":s.arrowKeys&&(e.keyCode===37?t="prev":e.keyCode===39&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,r[t]()))},zn=function(e){e&&(be||ce||S||Le)&&(e.preventDefault(),e.stopPropagation())},dn=function(){r.setScrollOffset(0,a.getScrollY())},P={},Te=0,Ye=function(e){P[e]&&(P[e].raf&&gt(P[e].raf),Te--,delete P[e])},Ot=function(e){P[e]&&Ye(e),P[e]||(Te++,P[e]={})},Be=function(){for(var e in P)P.hasOwnProperty(e)&&Ye(e)},We=function(e,t,n,i,o,l,d){var c,m=U();Ot(e);var x=function(){if(P[e]){if(c=U()-m,c>=i)return Ye(e),l(n),void(d&&d());l((n-t)*o(c/i)+t),P[e].raf=tt(x)}};x()},_n={shout:y,listen:w,viewportSize:M,options:s,isMainScrollAnimating:function(){return S},getZoomLevel:function(){return v},getCurrentIndex:function(){return h},isDragging:function(){return N},isZooming:function(){return G},setScrollOffset:function(e,t){Ce.x=e,ue=Ce.y=t,y("updateScrollOffset",Ce)},applyZoomPan:function(e,t,n,i){u.x=t,u.y=n,v=e,C(i)},init:function(){if(!ge&&!Jt){var e;r.framework=a,r.template=p,r.bg=a.getChildByClass(p,"pswp__bg"),en=p.className,ge=!0,g=a.detectFeatures(),tt=g.raf,gt=g.caf,we=g.transform,wt=g.oldIE,r.scrollWrap=a.getChildByClass(p,"pswp__scroll-wrap"),r.container=a.getChildByClass(r.scrollWrap,"pswp__container"),Qt=r.container.style,r.itemHolders=I=[{el:r.container.children[0],wrap:0,index:-1},{el:r.container.children[1],wrap:0,index:-1},{el:r.container.children[2],wrap:0,index:-1}],I[0].el.style.display=I[2].el.style.display="none",Fn(),T={resize:r.updateSize,orientationchange:function(){clearTimeout(bt),bt=setTimeout(function(){M.x!==r.scrollWrap.clientWidth&&r.updateSize()},500)},scroll:dn,keydown:Ln,click:zn};var t=g.isOldIOSPhone||g.isOldAndroid||g.isMobileOpera;for(g.animationName&&g.transform&&!t||(s.showAnimationDuration=s.hideAnimationDuration=0),e=0;e<Tt.length;e++)r["init"+Tt[e]]();if(qt){var n=r.ui=new qt(r,a);n.init()}y("firstUpdate"),h=h||s.index||0,(isNaN(h)||h<0||h>=Z())&&(h=0),r.currItem=re(h),(g.isOldIOSPhone||g.isOldAndroid)&&(st=!1),p.setAttribute("aria-hidden","false"),s.modal&&(st?p.style.position="fixed":(p.style.position="absolute",p.style.top=a.getScrollY()+"px")),ue===void 0&&(y("initialLayout"),ue=tn=a.getScrollY());var i="pswp--open ";for(s.mainClass&&(i+=s.mainClass+" "),s.showHideOpacity&&(i+="pswp--animate_opacity "),i+=W?"pswp--touch":"pswp--notouch",i+=g.animationName?" pswp--css_animation":"",i+=g.svg?" pswp--svg":"",a.addClass(p,i),r.updateSize(),B=-1,_=null,e=0;e<$;e++)De((e+B)*R.x,I[e].el.style);wt||a.bind(r.scrollWrap,$e,r),w("initialZoomInEnd",function(){r.setContent(I[0],h-1),r.setContent(I[2],h+1),I[0].el.style.display=I[2].el.style.display="block",s.focus&&p.focus(),Pn()}),r.setContent(I[1],h),r.updateCurrItem(),y("afterInit"),st||(xt=setInterval(function(){Te||N||G||v!==r.currItem.initialZoomLevel||r.updateSize()},1e3)),a.addClass(p,"pswp--visible")}},close:function(){ge&&(ge=!1,Jt=!0,y("close"),Zn(),bn(r.currItem,null,!0,r.destroy))},destroy:function(){y("destroy"),ye&&clearTimeout(ye),p.setAttribute("aria-hidden","true"),p.className=en,xt&&clearInterval(xt),a.unbind(r.scrollWrap,$e,r),a.unbind(window,"scroll",r),Pt(),Be(),Ue=null},panTo:function(e,t,n){n||(e>f.min.x?e=f.min.x:e<f.max.x&&(e=f.max.x),t>f.min.y?t=f.min.y:t<f.max.y&&(t=f.max.y)),u.x=e,u.y=t,C()},handleEvent:function(e){e=e||window.event,T[e.type]&&T[e.type](e)},goTo:function(e){e=ut(e);var t=e-h;_=t,h=e,r.currItem=re(h),te-=t,ct(R.x*te),Be(),S=!1,r.updateCurrItem()},next:function(){r.goTo(h+1)},prev:function(){r.goTo(h-1)},updateCurrZoomItem:function(e){if(e&&y("beforeChange",0),I[1].el.children.length){var t=I[1].el.children[0];X=a.hasClass(t,"pswp__zoom-wrap")?t.style:null}else X=null;f=r.currItem.bounds,se=v=r.currItem.initialZoomLevel,u.x=f.center.x,u.y=f.center.y,e&&y("afterChange")},invalidateCurrItems:function(){Je=!0;for(var e=0;e<$;e++)I[e].item&&(I[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(_!==0){var t,n=Math.abs(_);if(!(e&&n<2)){r.currItem=re(h),me=!1,y("beforeChange",_),n>=$&&(B+=_+(_>0?-$:$),n=$);for(var i=0;i<n;i++)_>0?(t=I.shift(),I[$-1]=t,B++,De((B+2)*R.x,t.el.style),r.setContent(t,h-n+i+1+1)):(t=I.pop(),I.unshift(t),B--,De(B*R.x,t.el.style),r.setContent(t,h+n-i-1-1));if(X&&Math.abs(_)===1){var o=re(jt);o.initialZoomLevel!==v&&(Ve(o,M),xe(o),He(o))}_=0,r.updateCurrZoomItem(),jt=h,y("afterChange")}}},updateSize:function(e){if(!st&&s.modal){var t=a.getScrollY();if(ue!==t&&(p.style.top=t+"px",ue=t),!e&&_e.x===window.innerWidth&&_e.y===window.innerHeight)return;_e.x=window.innerWidth,_e.y=window.innerHeight,p.style.height=_e.y+"px"}if(M.x=r.scrollWrap.clientWidth,M.y=r.scrollWrap.clientHeight,dn(),R.x=M.x+Math.round(M.x*s.spacing),R.y=M.y,ct(R.x*te),y("beforeResize"),B!==void 0){for(var n,i,o,l=0;l<$;l++)n=I[l],De((l+B)*R.x,n.el.style),o=h+l-1,s.loop&&Z()>2&&(o=ut(o)),i=re(o),i&&(Je||i.needsUpdate||!i.bounds)?(r.cleanSlide(i),r.setContent(n,o),l===1&&(r.currItem=i,r.updateCurrZoomItem(!0)),i.needsUpdate=!1):n.index===-1&&o>=0&&r.setContent(n,o),i&&i.container&&(Ve(i,M),xe(i),He(i));Je=!1}se=v=r.currItem.initialZoomLevel,f=r.currItem.bounds,f&&(u.x=f.center.x,u.y=f.center.y,C(!0)),y("resize")},zoomTo:function(e,t,n,i,o){t&&(se=v,Ge.x=Math.abs(t.x)-u.x,Ge.y=Math.abs(t.y)-u.y,A(Ie,u));var l=Et(e,!1),d={};cn("x",l,d,e),cn("y",l,d,e);var c=v,m={x:u.x,y:u.y};an(d);var x=function(b){b===1?(v=e,u.x=d.x,u.y=d.y):(v=(e-c)*b+c,u.x=(d.x-m.x)*b+m.x,u.y=(d.y-m.y)*b+m.y),o&&o(b),C(b===1)};n?We("customZoomTo",0,1,n,i||a.easing.sine.inOut,x):x(1)}},mn=30,kt=10,E={},pe={},O={},k={},Me={},ne=[],fe={},he=[],Se={},dt=0,mt=j(),Rt=0,K=j(),Ge=j(),Ae=j(),Nn=function(e,t){return e.x===t.x&&e.y===t.y},Un=function(e,t){return Math.abs(e.x-t.x)<$t&&Math.abs(e.y-t.y)<$t},pn=function(e,t){return Se.x=Math.abs(e.x-t.x),Se.y=Math.abs(e.y-t.y),Math.sqrt(Se.x*Se.x+Se.y*Se.y)},Pt=function(){it&&(gt(it),it=null)},fn=function(){N&&(it=tt(fn),Xn())},Hn=function(){return!(s.scaleMode==="fit"&&v===r.currItem.initialZoomLevel)},hn=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:hn(e.parentNode,t))},Zt={},yn=function(e,t){return Zt.prevent=!hn(e.target,s.isClickableElement),y("preventDragEvent",e,t,Zt),Zt.prevent},vn=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},xn=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Yn=function(e,t,n){if(e-nt>50){var i=he.length>2?he.shift():{};i.x=t,i.y=n,he.push(i),nt=e}},gn=function(){var e=u.y-r.currItem.initialPosition.y;return 1-Math.abs(e/(M.y/2))},Xe={},Bn={},ie=[],Ft=function(e){for(;ie.length>0;)ie.pop();return J?(at=0,ne.forEach(function(t){at===0?ie[0]=t:at===1&&(ie[1]=t),at++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(ie[0]=vn(e.touches[0],Xe),e.touches.length>1&&(ie[1]=vn(e.touches[1],Bn))):(Xe.x=e.pageX,Xe.y=e.pageY,Xe.id="",ie[0]=Xe),ie},wn=function(e,t){var n,i,o,l,d=0,c=u[e]+t[e],m=t[e]>0,x=K.x+t.x,b=K.x-fe.x;return n=c>f.min[e]||c<f.max[e]?s.panEndFriction:1,c=u[e]+t[e]*n,!s.allowPanToNext&&v!==r.currItem.initialZoomLevel||(X?Q!=="h"||e!=="x"||ce||(m?(c>f.min[e]&&(n=s.panEndFriction,d=f.min[e]-c,i=f.min[e]-Ie[e]),(i<=0||b<0)&&Z()>1?(l=x,b<0&&x>fe.x&&(l=fe.x)):f.min.x!==f.max.x&&(o=c)):(c<f.max[e]&&(n=s.panEndFriction,d=c-f.max[e],i=Ie[e]-f.max[e]),(i<=0||b>0)&&Z()>1?(l=x,b>0&&x<fe.x&&(l=fe.x)):f.min.x!==f.max.x&&(o=c))):l=x,e!=="x")?void(S||de||v>r.currItem.fitRatio&&(u[e]+=t[e]*n)):(l!==void 0&&(ct(l,!0),de=l!==fe.x),f.min.x!==f.max.x&&(o!==void 0?u.x=o:de||(u.x+=t.x*n)),l!==void 0)},Wn=function(e){if(!(e.type==="mousedown"&&e.button>0)){if(Ee)return void e.preventDefault();if(!ze||e.type!=="mousedown"){if(yn(e,!0)&&e.preventDefault(),y("pointerDown"),J){var t=a.arraySearch(ne,e.pointerId,"id");t<0&&(t=ne.length),ne[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Ft(e),i=n.length;L=null,Be(),N&&i!==1||(N=Dt=!0,a.bind(window,Pe,r),It=lt=ot=Le=de=be=Ct=ce=!1,Q=null,y("firstTouchStart",n),A(Ie,u),ee.x=ee.y=0,A(k,n[0]),A(Me,k),fe.x=R.x*te,he=[{x:k.x,y:k.y}],nt=nn=U(),Et(v,!0),Pt(),fn()),!G&&i>1&&!S&&!de&&(se=v,ce=!1,G=Ct=!0,ee.y=ee.x=0,A(Ie,u),A(E,n[0]),A(pe,n[1]),xn(E,pe,Ae),Ge.x=Math.abs(Ae.x)-u.x,Ge.y=Math.abs(Ae.y)-u.y,on=rn=pn(E,pe))}}},Gn=function(e){if(e.preventDefault(),J){var t=a.arraySearch(ne,e.pointerId,"id");if(t>-1){var n=ne[t];n.x=e.pageX,n.y=e.pageY}}if(N){var i=Ft(e);if(Q||be||G)L=i;else if(K.x!==R.x*te)Q="h";else{var o=Math.abs(i[0].x-k.x)-Math.abs(i[0].y-k.y);Math.abs(o)>=kt&&(Q=o>0?"h":"v",L=i)}}},Xn=function(){if(L){var e=L.length;if(e!==0)if(A(E,L[0]),O.x=E.x-k.x,O.y=E.y-k.y,G&&e>1){if(k.x=E.x,k.y=E.y,!O.x&&!O.y&&Nn(L[1],pe))return;A(pe,L[1]),ce||(ce=!0,y("zoomGestureStarted"));var t=pn(E,pe),n=Jn(t);n>r.currItem.initialZoomLevel+r.currItem.initialZoomLevel/15&&(lt=!0);var i=1,o=sn(),l=un();if(n<o)if(s.pinchToClose&&!lt&&se<=r.currItem.initialZoomLevel){var d=o-n,c=1-d/(o/1.2);V(c),y("onPinchClose",c),ot=!0}else i=(o-n)/o,i>1&&(i=1),n=o-i*(o/3);else n>l&&(i=(n-l)/(6*o),i>1&&(i=1),n=l+i*o);i<0&&(i=0),on=t,xn(E,pe,mt),ee.x+=mt.x-Ae.x,ee.y+=mt.y-Ae.y,A(Ae,mt),u.x=Mt("x",n),u.y=Mt("y",n),It=n>v,v=n,C()}else{if(!Q||(Dt&&(Dt=!1,Math.abs(O.x)>=kt&&(O.x-=L[0].x-Me.x),Math.abs(O.y)>=kt&&(O.y-=L[0].y-Me.y)),k.x=E.x,k.y=E.y,O.x===0&&O.y===0))return;if(Q==="v"&&s.closeOnVerticalDrag&&!Hn()){ee.y+=O.y,u.y+=O.y;var m=gn();return Le=!0,y("onVerticalDrag",m),V(m),void C()}Yn(U(),E.x,E.y),be=!0,f=r.currItem.bounds;var x=wn("x",O);x||(wn("y",O),an(u),C())}}},Vn=function(e){if(g.isOldAndroid){if(ze&&e.type==="mouseup")return;e.type.indexOf("touch")>-1&&(clearTimeout(ze),ze=setTimeout(function(){ze=0},600))}y("pointerUp"),yn(e,!1)&&e.preventDefault();var t;if(J){var n=a.arraySearch(ne,e.pointerId,"id");if(n>-1)if(t=ne.splice(n,1)[0],navigator.msPointerEnabled){var i={4:"mouse",2:"touch",3:"pen"};t.type=i[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}else t.type=e.pointerType||"mouse"}var o,l=Ft(e),d=l.length;if(e.type==="mouseup"&&(d=0),d===2)return L=null,!0;d===1&&A(Me,l[0]),d!==0||Q||S||(t||(e.type==="mouseup"?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),y("touchRelease",e,t));var c=-1;if(d===0&&(N=!1,a.unbind(window,Pe,r),Pt(),G?c=0:Rt!==-1&&(c=U()-Rt)),Rt=d===1?U():-1,o=c!==-1&&c<150?"zoom":"swipe",G&&d<2&&(G=!1,d===1&&(o="zoomPointerUp"),y("zoomGestureEnded")),L=null,be||ce||S||Le)if(Be(),Fe||(Fe=Kn()),Fe.calculateSwipeSpeed("x"),Le){var m=gn();if(m<s.verticalDragRange)r.close();else{var x=u.y,b=rt;We("verticalDrag",0,1,300,a.easing.cubic.out,function(q){u.y=(r.currItem.initialPosition.y-x)*q+x,V((1-b)*q+b),C()}),y("onVerticalDrag",1)}}else{if((de||S)&&d===0){var ae=$n(o,Fe);if(ae)return;o="zoomPointerUp"}if(!S)return o!=="swipe"?void Qn():void(!de&&v>r.currItem.fitRatio&&qn(Fe))}},Kn=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){he.length>1?(e=U()-nt+50,t=he[he.length-2][i]):(e=U()-nn,t=Me[i]),n.lastFlickOffset[i]=k[i]-t,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/e:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(i,o){n.backAnimStarted[i]||(u[i]>f.min[i]?n.backAnimDestination[i]=f.min[i]:u[i]<f.max[i]&&(n.backAnimDestination[i]=f.max[i]),n.backAnimDestination[i]!==void 0&&(n.slowDownRatio[i]=.7,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatioAbs[i]<.05&&(n.lastFlickSpeed[i]=0,n.backAnimStarted[i]=!0,We("bounceZoomPan"+i,u[i],n.backAnimDestination[i],o||300,a.easing.sine.out,function(l){u[i]=l,C()}))))},calculateAnimOffset:function(i){n.backAnimStarted[i]||(n.speedDecelerationRatio[i]=n.speedDecelerationRatio[i]*(n.slowDownRatio[i]+n.slowDownRatioReverse[i]-n.slowDownRatioReverse[i]*n.timeDiff/10),n.speedDecelerationRatioAbs[i]=Math.abs(n.lastFlickSpeed[i]*n.speedDecelerationRatio[i]),n.distanceOffset[i]=n.lastFlickSpeed[i]*n.speedDecelerationRatio[i]*n.timeDiff,u[i]+=n.distanceOffset[i])},panAnimLoop:function(){if(P.zoomPan&&(P.zoomPan.raf=tt(n.panAnimLoop),n.now=U(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),C(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return u.x=Math.round(u.x),u.y=Math.round(u.y),C(),void Ye("zoomPan")}};return n},qn=function(e){return e.calculateSwipeSpeed("y"),f=r.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(Ot("zoomPan"),e.lastNow=U(),void e.panAnimLoop())},$n=function(e,t){var n;S||(dt=h);var i;if(e==="swipe"){var o=k.x-Me.x,l=t.lastFlickDist.x<10;o>mn&&(l||t.lastFlickOffset.x>20)?i=-1:o<-mn&&(l||t.lastFlickOffset.x<-20)&&(i=1)}var d;i&&(h+=i,h<0?(h=s.loop?Z()-1:0,d=!0):h>=Z()&&(h=s.loop?0:Z()-1,d=!0),d&&!s.loop||(_+=i,te-=i,n=!0));var c,m=R.x*te,x=Math.abs(m-K.x);return n||m>K.x==t.lastFlickSpeed.x>0?(c=Math.abs(t.lastFlickSpeed.x)>0?x/Math.abs(t.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,dt===h&&(n=!1),S=!0,y("mainScrollAnimStart"),We("mainScroll",K.x,m,c,a.easing.cubic.out,ct,function(){Be(),S=!1,dt=-1,(n||dt!==h)&&r.updateCurrItem(),y("mainScrollAnimComplete")}),n&&r.updateCurrItem(!0),n},Jn=function(e){return 1/rn*e*se},Qn=function(){var e=v,t=sn(),n=un();v<t?e=t:v>n&&(e=n);var i,o=1,l=rt;return ot&&!It&&!lt&&v<t?(r.close(),!0):(ot&&(i=function(d){V((o-l)*d+l)}),r.zoomTo(e,0,200,a.easing.cubic.out,i),!0)};Ne("Gestures",{publicMethods:{initGestures:function(){var e=function(t,n,i,o,l){Qe=t+n,je=t+i,Ze=t+o,et=l?t+l:""};J=g.pointerEvent,J&&g.touch&&(g.touch=!1),J?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):g.touch?(e("touch","start","move","end","cancel"),W=!0):e("mouse","down","move","up"),Pe=je+" "+Ze+" "+et,$e=Qe,J&&!W&&(W=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),r.likelyTouchDevice=W,T[Qe]=Wn,T[je]=Gn,T[Ze]=Vn,et&&(T[et]=T[Ze]),g.touch&&($e+=" mousedown",Pe+=" mousemove mouseup",T.mousedown=T[Qe],T.mousemove=T[je],T.mouseup=T[Ze]),W||(s.allowPanToNext=!1)}}});var ye,oe,Lt,Ee,re,Z,jn,bn=function(e,t,n,i){ye&&clearTimeout(ye),Ee=!0,Lt=!0;var o;e.initialLayout?(o=e.initialLayout,e.initialLayout=null):o=s.getThumbBoundsFn&&s.getThumbBoundsFn(h);var l=n?s.hideAnimationDuration:s.showAnimationDuration,d=function(){Ye("initialZoom"),n?(r.template.removeAttribute("style"),r.bg.removeAttribute("style")):(V(1),t&&(t.style.display="block"),a.addClass(p,"pswp--animated-in"),y("initialZoom"+(n?"OutEnd":"InEnd"))),i&&i(),Ee=!1};if(!l||!o||o.x===void 0)return y("initialZoom"+(n?"Out":"In")),v=e.initialZoomLevel,A(u,e.initialPosition),C(),p.style.opacity=n?0:1,V(1),void(l?setTimeout(function(){d()},l):d());var c=function(){var m=ht,x=!r.currItem.src||r.currItem.loadError||s.showHideOpacity;e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),n||(v=o.w/e.w,u.x=o.x,u.y=o.y-tn,r[x?"template":"bg"].style.opacity=.001,C()),Ot("initialZoom"),n&&!m&&a.removeClass(p,"pswp--animated-in"),x&&(n?a[(m?"remove":"add")+"Class"](p,"pswp--animate_opacity"):setTimeout(function(){a.addClass(p,"pswp--animate_opacity")},30)),ye=setTimeout(function(){if(y("initialZoom"+(n?"Out":"In")),n){var b=o.w/e.w,ae={x:u.x,y:u.y},q=v,ke=rt,qe=function(Y){Y===1?(v=b,u.x=o.x,u.y=o.y-ue):(v=(b-q)*Y+q,u.x=(o.x-ae.x)*Y+ae.x,u.y=(o.y-ue-ae.y)*Y+ae.y),C(),x?p.style.opacity=1-Y:V(ke-Y*ke)};m?We("initialZoom",0,1,l,a.easing.cubic.out,qe,d):(qe(1),ye=setTimeout(d,l+20))}else v=e.initialZoomLevel,A(u,e.initialPosition),C(),V(1),x?p.style.opacity=1:V(1),ye=setTimeout(d,l+20)},n?25:90)};c()},z={},ve=[],ei={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return oe.length}},In=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},ti=function(e,t,n){var i=e.bounds;i.center.x=Math.round((z.x-t)/2),i.center.y=Math.round((z.y-n)/2)+e.vGap.top,i.max.x=t>z.x?Math.round(z.x-t):i.center.x,i.max.y=n>z.y?Math.round(z.y-n)+e.vGap.top:i.center.y,i.min.x=t>z.x?0:i.center.x,i.min.y=n>z.y?e.vGap.top:i.center.y},Ve=function(e,t,n){if(e.src&&!e.loadError){var i=!n;if(i&&(e.vGap||(e.vGap={top:0,bottom:0}),y("parseVerticalMargin",e)),z.x=t.x,z.y=t.y-e.vGap.top-e.vGap.bottom,i){var o=z.x/e.w,l=z.y/e.h;e.fitRatio=o<l?o:l;var d=s.scaleMode;d==="orig"?n=1:d==="fit"&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=In())}return n?(ti(e,e.w*n,e.h*n),i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=In(),e.initialPosition=e.bounds.center,e.bounds},pt=function(e,t,n,i,o,l){t.loadError||i&&(t.imageAppended=!0,xe(t,i,t===r.currItem&&me),n.appendChild(i),l&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},Cn=function(e){e.loading=!0,e.loaded=!1;var t=e.img=a.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},Dn=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=s.errorMsg.replace("%url%",e.src),!0},xe=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var i=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=o+"px"),t.style.width=i+"px",t.style.height=o+"px"}},Tn=function(){if(ve.length){for(var e,t=0;t<ve.length;t++)e=ve[t],e.holder.index===e.index&&pt(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);ve=[]}};Ne("Controller",{publicMethods:{lazyLoadItem:function(e){e=ut(e);var t=re(e);t&&(!t.loaded&&!t.loading||Je)&&(y("gettingData",e,t),t.src&&Cn(t))},initController:function(){a.extend(s,ei,!0),r.items=oe=kn,re=r.getItemAt,Z=s.getNumItemsFn,jn=s.loop,Z()<3&&(s.loop=!1),w("beforeChange",function(e){var t,n=s.preload,i=e===null||e>=0,o=Math.min(n[0],Z()),l=Math.min(n[1],Z());for(t=1;t<=(i?l:o);t++)r.lazyLoadItem(h+t);for(t=1;t<=(i?o:l);t++)r.lazyLoadItem(h-t)}),w("initialLayout",function(){r.currItem.initialLayout=s.getThumbBoundsFn&&s.getThumbBoundsFn(h)}),w("mainScrollAnimComplete",Tn),w("initialZoomInEnd",Tn),w("destroy",function(){for(var e,t=0;t<oe.length;t++)e=oe[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);ve=null})},getItemAt:function(e){return e>=0&&oe[e]!==void 0&&oe[e]},allowProgressiveImg:function(){return s.forceProgressiveLoading||!W||s.mouseUsed||screen.width>1200},setContent:function(e,t){s.loop&&(t=ut(t));var n=r.getItemAt(e.index);n&&(n.container=null);var i,o=r.getItemAt(t);if(!o)return void(e.el.innerHTML="");y("gettingData",t,o),e.index=t,e.item=o;var l=o.container=a.createEl("pswp__zoom-wrap");if(!o.src&&o.html&&(o.html.tagName?l.appendChild(o.html):l.innerHTML=o.html),Dn(o),Ve(o,M),!o.src||o.loadError||o.loaded)o.src&&!o.loadError&&(i=a.createEl("pswp__img","img"),i.style.opacity=1,i.src=o.src,xe(o,i),pt(t,o,l,i,!0));else{if(o.loadComplete=function(m){if(ge){if(e&&e.index===t){if(Dn(m,!0))return m.loadComplete=m.img=null,Ve(m,M),He(m),void(e.index===h&&r.updateCurrZoomItem());m.imageAppended?!Ee&&m.placeholder&&(m.placeholder.style.display="none",m.placeholder=null):g.transform&&(S||Ee)?ve.push({item:m,baseDiv:l,img:m.img,index:t,holder:e,clearPlaceholder:!0}):pt(t,m,l,m.img,S||Ee,!0)}m.loadComplete=null,m.img=null,y("imageLoadComplete",t,m)}},a.features.transform){var d="pswp__img pswp__img--placeholder";d+=o.msrc?"":" pswp__img--placeholder--blank";var c=a.createEl(d,o.msrc?"img":"");o.msrc&&(c.src=o.msrc),xe(o,c),l.appendChild(c),o.placeholder=c}o.loading||Cn(o),r.allowProgressiveImg()&&(!Lt&&g.transform?ve.push({item:o,baseDiv:l,img:o.img,index:t,holder:e}):pt(t,o,l,o.img,!0,!0))}Lt||t!==h?He(o):(X=l.style,bn(o,i||o.img)),e.el.innerHTML="",e.el.appendChild(l)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var le,zt={},_t=function(e,t,n){var i=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(i)};Ne("Tap",{publicMethods:{initTap:function(){w("firstTouchStart",r.onTapStart),w("touchRelease",r.onTapRelease),w("destroy",function(){zt={},le=null})},onTapStart:function(e){e.length>1&&(clearTimeout(le),le=null)},onTapRelease:function(e,t){if(t&&!be&&!Ct&&!Te){var n=t;if(le&&(clearTimeout(le),le=null,Un(n,zt)))return void y("doubleTap",n);if(t.type==="mouse")return void _t(e,t,"mouse");var i=e.target.tagName.toUpperCase();if(i==="BUTTON"||a.hasClass(e.target,"pswp__single-tap"))return void _t(e,t);A(zt,n),le=setTimeout(function(){_t(e,t),le=null},300)}}}});var F;Ne("DesktopZoom",{publicMethods:{initDesktopZoom:function(){wt||(W?w("mouseUsed",function(){r.setupDesktopZoom()}):r.setupDesktopZoom(!0))},setupDesktopZoom:function(e){F={};var t="wheel mousewheel DOMMouseScroll";w("bindEvents",function(){a.bind(p,t,r.handleMouseWheel)}),w("unbindEvents",function(){F&&a.unbind(p,t,r.handleMouseWheel)}),r.mouseZoomedIn=!1;var n,i=function(){r.mouseZoomedIn&&(a.removeClass(p,"pswp--zoomed-in"),r.mouseZoomedIn=!1),v<1?a.addClass(p,"pswp--zoom-allowed"):a.removeClass(p,"pswp--zoom-allowed"),o()},o=function(){n&&(a.removeClass(p,"pswp--dragging"),n=!1)};w("resize",i),w("afterChange",i),w("pointerDown",function(){r.mouseZoomedIn&&(n=!0,a.addClass(p,"pswp--dragging"))}),w("pointerUp",o),e||i()},handleMouseWheel:function(e){if(v<=r.currItem.fitRatio)return s.modal&&(!s.closeOnScroll||Te||N?e.preventDefault():we&&Math.abs(e.deltaY)>2&&(ht=!0,r.close())),!0;if(e.stopPropagation(),F.x=0,"deltaX"in e)e.deltaMode===1?(F.x=18*e.deltaX,F.y=18*e.deltaY):(F.x=e.deltaX,F.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(F.x=-.16*e.wheelDeltaX),e.wheelDeltaY?F.y=-.16*e.wheelDeltaY:F.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;F.y=e.detail}Et(v,!0);var t=u.x-F.x,n=u.y-F.y;(s.modal||t<=f.min.x&&t>=f.max.x&&n<=f.min.y&&n>=f.max.y)&&e.preventDefault(),r.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:M.x/2+Ce.x,y:M.y/2+Ce.y};var t=s.getDoubleTapZoom(!0,r.currItem),n=v===t;r.mouseZoomedIn=!n,r.zoomTo(n?r.currItem.initialZoomLevel:t,e,333),a[(n?"remove":"add")+"Class"](p,"pswp--zoomed-in")}}});var Nt,Mn,Ke,ft,Ut,Sn,D,Oe,Ht,Yt,H,Bt,ni={history:!0,galleryUID:1},Wt=function(){return H.hash.substring(1)},An=function(){Nt&&clearTimeout(Nt),Ke&&clearTimeout(Ke)},En=function(){var e=Wt(),t={};if(e.length<5)return t;var n,i=e.split("&");for(n=0;n<i.length;n++)if(i[n]){var o=i[n].split("=");o.length<2||(t[o[0]]=o[1])}if(s.galleryPIDs){var l=t.pid;for(t.pid=0,n=0;n<oe.length;n++)if(oe[n].pid===l){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Gt=function(){if(Ke&&clearTimeout(Ke),Te||N)return void(Ke=setTimeout(Gt,500));ft?clearTimeout(Mn):ft=!0;var e=h+1,t=re(h);t.hasOwnProperty("pid")&&(e=t.pid);var n=D+"&gid="+s.galleryUID+"&pid="+e;Oe||H.hash.indexOf(n)===-1&&(Yt=!0);var i=H.href.split("#")[0]+"#"+n;Bt?"#"+n!==window.location.hash&&history[Oe?"replaceState":"pushState"]("",document.title,i):Oe?H.replace(i):H.hash=n,Oe=!0,Mn=setTimeout(function(){ft=!1},60)};Ne("History",{publicMethods:{initHistory:function(){if(a.extend(s,ni,!0),s.history){H=window.location,Yt=!1,Ht=!1,Oe=!1,D=Wt(),Bt="pushState"in history,D.indexOf("gid=")>-1&&(D=D.split("&gid=")[0],D=D.split("?gid=")[0]),w("afterChange",r.updateURL),w("unbindEvents",function(){a.unbind(window,"hashchange",r.onHashChange)});var e=function(){Sn=!0,Ht||(Yt?history.back():D?H.hash=D:Bt?history.pushState("",document.title,H.pathname+H.search):H.hash=""),An()};w("unbindEvents",function(){ht&&e()}),w("destroy",function(){Sn||e()}),w("firstUpdate",function(){h=En().pid});var t=D.indexOf("pid=");t>-1&&(D=D.substring(0,t),D.slice(-1)==="&"&&(D=D.slice(0,-1))),setTimeout(function(){ge&&a.bind(window,"hashchange",r.onHashChange)},40)}},onHashChange:function(){return Wt()===D?(Ht=!0,void r.close()):void(ft||(Ut=!0,r.goTo(En().pid),Ut=!1))},updateURL:function(){An(),Ut||(Oe?Nt=setTimeout(Gt,800):Gt())}}}),a.extend(r,_n)};return Re})});ri();})();
/*! PhotoSwipe - v4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */
